import{d as le,s as ce,a3 as Le,f as ie,e as ee,h as oe,c as z,b as te,F as O,x as _,t as H,M as $,o as b,_ as _e,w as Ce,i as xe,K as ne,a4 as He,u as Oe,l as ke,a5 as Ae,a6 as Se,a7 as Te,a8 as Ie,a9 as je,aa as Pe,ab as Ne,ac as Re,ad as Be,ae as Me,af as $e,ag as De,ah as Fe,H as Ue}from"./chunks/framework.e83fbf71.js";import{t as Ve}from"./chunks/theme.31bafda3.js";/*! medium-zoom 1.0.8 | MIT License | https://github.com/francoischalifour/medium-zoom */var k=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])}return n},K=function(t){return t.tagName==="IMG"},Ze=function(t){return NodeList.prototype.isPrototypeOf(t)},W=function(t){return t&&t.nodeType===1},se=function(t){var a=t.currentSrc||t.src;return a.substr(-4).toLowerCase()===".svg"},de=function(t){try{return Array.isArray(t)?t.filter(K):Ze(t)?[].slice.call(t).filter(K):W(t)?[t].filter(K):typeof t=="string"?[].slice.call(document.querySelectorAll(t)).filter(K):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},qe=function(t){var a=document.createElement("div");return a.classList.add("medium-zoom-overlay"),a.style.background=t,a},Ke=function(t){var a=t.getBoundingClientRect(),s=a.top,u=a.left,P=a.width,N=a.height,E=t.cloneNode(),R=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,A=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return E.removeAttribute("id"),E.style.position="absolute",E.style.top=s+R+"px",E.style.left=u+A+"px",E.style.width=P+"px",E.style.height=N+"px",E.style.transform="",E},I=function(t,a){var s=k({bubbles:!1,cancelable:!1,detail:void 0},a);if(typeof window.CustomEvent=="function")return new CustomEvent(t,s);var u=document.createEvent("CustomEvent");return u.initCustomEvent(t,s.bubbles,s.cancelable,s.detail),u},We=function n(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=window.Promise||function(o){function r(){}o(r,r)},u=function(o){var r=o.target;if(r===Z){m();return}y.indexOf(r)!==-1&&C({target:r})},P=function(){if(!(S||!e.original)){var o=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(ae-o)>d.scrollOffset&&setTimeout(m,150)}},N=function(o){var r=o.key||o.keyCode;(r==="Escape"||r==="Esc"||r===27)&&m()},E=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=o;if(o.background&&(Z.style.background=o.background),o.container&&o.container instanceof Object&&(r.container=k({},d.container,o.container)),o.template){var l=W(o.template)?o.template:document.querySelector(o.template);r.template=l}return d=k({},d,r),y.forEach(function(c){c.dispatchEvent(I("medium-zoom:update",{detail:{zoom:p}}))}),p},R=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return n(k({},d,o))},A=function(){for(var o=arguments.length,r=Array(o),l=0;l<o;l++)r[l]=arguments[l];var c=r.reduce(function(i,v){return[].concat(i,de(v))},[]);return c.filter(function(i){return y.indexOf(i)===-1}).forEach(function(i){y.push(i),i.classList.add("medium-zoom-image")}),V.forEach(function(i){var v=i.type,L=i.listener,T=i.options;c.forEach(function(x){x.addEventListener(v,L,T)})}),p},F=function(){for(var o=arguments.length,r=Array(o),l=0;l<o;l++)r[l]=arguments[l];e.zoomed&&m();var c=r.length>0?r.reduce(function(i,v){return[].concat(i,de(v))},[]):y;return c.forEach(function(i){i.classList.remove("medium-zoom-image"),i.dispatchEvent(I("medium-zoom:detach",{detail:{zoom:p}}))}),y=y.filter(function(i){return c.indexOf(i)===-1}),p},w=function(o,r){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return y.forEach(function(c){c.addEventListener("medium-zoom:"+o,r,l)}),V.push({type:"medium-zoom:"+o,listener:r,options:l}),p},h=function(o,r){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return y.forEach(function(c){c.removeEventListener("medium-zoom:"+o,r,l)}),V=V.filter(function(c){return!(c.type==="medium-zoom:"+o&&c.listener.toString()===r.toString())}),p},f=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=o.target,l=function(){var i={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},v=void 0,L=void 0;if(d.container)if(d.container instanceof Object)i=k({},i,d.container),v=i.width-i.left-i.right-d.margin*2,L=i.height-i.top-i.bottom-d.margin*2;else{var T=W(d.container)?d.container:document.querySelector(d.container),x=T.getBoundingClientRect(),X=x.width,me=x.height,pe=x.left,fe=x.top;i=k({},i,{width:X,height:me,left:pe,top:fe})}v=v||i.width-d.margin*2,L=L||i.height-d.margin*2;var M=e.zoomedHd||e.original,ge=se(M)?v:M.naturalWidth||v,ve=se(M)?L:M.naturalHeight||L,q=M.getBoundingClientRect(),he=q.top,ye=q.left,G=q.width,J=q.height,ze=Math.min(Math.max(G,ge),v)/G,be=Math.min(Math.max(J,ve),L)/J,Q=Math.min(ze,be),Ee=(-ye+(v-G)/2+d.margin+i.left)/Q,we=(-he+(L-J)/2+d.margin+i.top)/Q,re="scale("+Q+") translate3d("+Ee+"px, "+we+"px, 0)";e.zoomed.style.transform=re,e.zoomedHd&&(e.zoomedHd.style.transform=re)};return new s(function(c){if(r&&y.indexOf(r)===-1){c(p);return}var i=function X(){S=!1,e.zoomed.removeEventListener("transitionend",X),e.original.dispatchEvent(I("medium-zoom:opened",{detail:{zoom:p}})),c(p)};if(e.zoomed){c(p);return}if(r)e.original=r;else if(y.length>0){var v=y;e.original=v[0]}else{c(p);return}if(e.original.dispatchEvent(I("medium-zoom:open",{detail:{zoom:p}})),ae=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,S=!0,e.zoomed=Ke(e.original),document.body.appendChild(Z),d.template){var L=W(d.template)?d.template:document.querySelector(d.template);e.template=document.createElement("div"),e.template.appendChild(L.content.cloneNode(!0)),document.body.appendChild(e.template)}if(e.original.parentElement&&e.original.parentElement.tagName==="PICTURE"&&e.original.currentSrc&&(e.zoomed.src=e.original.currentSrc),document.body.appendChild(e.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),e.original.classList.add("medium-zoom-image--hidden"),e.zoomed.classList.add("medium-zoom-image--opened"),e.zoomed.addEventListener("click",m),e.zoomed.addEventListener("transitionend",i),e.original.getAttribute("data-zoom-src")){e.zoomedHd=e.zoomed.cloneNode(),e.zoomedHd.removeAttribute("srcset"),e.zoomedHd.removeAttribute("sizes"),e.zoomedHd.removeAttribute("loading"),e.zoomedHd.src=e.zoomed.getAttribute("data-zoom-src"),e.zoomedHd.onerror=function(){clearInterval(T),console.warn("Unable to reach the zoom image target "+e.zoomedHd.src),e.zoomedHd=null,l()};var T=setInterval(function(){e.zoomedHd.complete&&(clearInterval(T),e.zoomedHd.classList.add("medium-zoom-image--opened"),e.zoomedHd.addEventListener("click",m),document.body.appendChild(e.zoomedHd),l())},10)}else if(e.original.hasAttribute("srcset")){e.zoomedHd=e.zoomed.cloneNode(),e.zoomedHd.removeAttribute("sizes"),e.zoomedHd.removeAttribute("loading");var x=e.zoomedHd.addEventListener("load",function(){e.zoomedHd.removeEventListener("load",x),e.zoomedHd.classList.add("medium-zoom-image--opened"),e.zoomedHd.addEventListener("click",m),document.body.appendChild(e.zoomedHd),l()})}else l()})},m=function(){return new s(function(o){if(S||!e.original){o(p);return}var r=function l(){e.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(e.zoomed),e.zoomedHd&&document.body.removeChild(e.zoomedHd),document.body.removeChild(Z),e.zoomed.classList.remove("medium-zoom-image--opened"),e.template&&document.body.removeChild(e.template),S=!1,e.zoomed.removeEventListener("transitionend",l),e.original.dispatchEvent(I("medium-zoom:closed",{detail:{zoom:p}})),e.original=null,e.zoomed=null,e.zoomedHd=null,e.template=null,o(p)};S=!0,document.body.classList.remove("medium-zoom--opened"),e.zoomed.style.transform="",e.zoomedHd&&(e.zoomedHd.style.transform=""),e.template&&(e.template.style.transition="opacity 150ms",e.template.style.opacity=0),e.original.dispatchEvent(I("medium-zoom:close",{detail:{zoom:p}})),e.zoomed.addEventListener("transitionend",r)})},C=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=o.target;return e.original?m():f({target:r})},U=function(){return d},B=function(){return y},Y=function(){return e.original},y=[],V=[],S=!1,ae=0,d=a,e={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(t)==="[object Object]"?d=t:(t||typeof t=="string")&&A(t),d=k({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},d);var Z=qe(d.background);document.addEventListener("click",u),document.addEventListener("keyup",N),document.addEventListener("scroll",P),window.addEventListener("resize",m);var p={open:f,close:m,toggle:C,update:E,clone:R,attach:A,detach:F,on:w,off:h,getOptions:U,getImages:B,getZoomedImage:Y};return p};function Ye(n,t){t===void 0&&(t={});var a=t.insertAt;if(!(!n||typeof document>"u")){var s=document.head||document.getElementsByTagName("head")[0],u=document.createElement("style");u.type="text/css",a==="top"&&s.firstChild?s.insertBefore(u,s.firstChild):s.appendChild(u),u.styleSheet?u.styleSheet.cssText=n:u.appendChild(document.createTextNode(n))}}var Xe=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";Ye(Xe);const Ge=We;function Je(n,t="key",a="value"){return Object.entries(n).map(([s,u])=>({[t]:s,[a]:u}))}const D="/wiki-template",Qe="/pages",et={class:"base-layout"},tt={class:"base-section-title"},nt={class:"base-group"},ot=["onClick"],at={class:"base-title"},rt={class:"base-groups"},it=["onClick"],st=le({__name:"BaseIndex",props:["title"],setup(n){const t=ce(),a=Le(),s=ie([]),u=ie({}),P=ee(()=>t.path===`${D}${Qe}/`),N=ee(()=>Je(s.value).map(h=>({...h,...u.value[h.key]})).sort(({order:h=999},{order:f=999})=>h-f)),E=ee(()=>{const w=Object.keys(s.value),h=t.path,f=w.findIndex(m=>h.startsWith(D+m));return f!==-1?s.value[w[f]]:[]}),R=async()=>{const w=await fetch(`${D}/sidebar.json`).then(f=>f.json()),h={};Object.entries(w).forEach(([f,m])=>{m.length>0&&(h[f]=m)}),s.value=h},A=async()=>{const w=await fetch(`${D}/pageInfo.json`).then(h=>h.json());u.value=w},F=w=>{a.go(D+w)};return oe(async()=>{await A(),R()}),(w,h)=>(b(),z("div",et,[te(P)?(b(),z(O,{key:0},[_("h1",null,H(n.title),1),(b(!0),z(O,null,$(te(N),(f,m)=>(b(),z("div",{class:"base-section",key:m},[_("h2",tt,H(f.text),1),_("div",null,[(b(!0),z(O,null,$(f.value,(C,U)=>(b(),z("div",{key:U,class:"base-groups"},[_("h3",null,H(C.text),1),_("ul",nt,[(b(!0),z(O,null,$(C.items,(B,Y)=>(b(),z("li",{key:B.link},[_("a",{href:"javascript:;",onClick:y=>F(B.link)},H(Y+1)+". "+H(B.text),9,ot)]))),128))])]))),128))])]))),128))],64)):(b(),z(O,{key:1},[_("h1",at,H(n.title),1),_("div",rt,[(b(!0),z(O,null,$(te(E),(f,m)=>(b(),z("div",{key:m,class:"base-group"},[_("h3",null,H(f.text),1),_("ul",null,[(b(!0),z(O,null,$(f.items,C=>(b(),z("li",{key:C.link},[_("a",{href:"javascript:;",onClick:U=>F(C.link)},H(C.text),9,it)]))),128))])]))),128))])],64))]))}});const dt=_e(st,[["__scopeId","data-v-0fbae068"]]);const lt={...Ve,enhanceApp({app:n,router:t,siteData:a}){n.component("base-index",dt)},setup(){const n=ce(),t=()=>{Ge(".main img",{background:"var(--vp-c-bg)",margin:10})};oe(()=>{t()}),Ce(()=>n.path,()=>{xe(()=>{t()})})}};function ue(n){if(n.extends){const t=ue(n.extends);return{...t,...n,async enhanceApp(a){t.enhanceApp&&await t.enhanceApp(a),n.enhanceApp&&await n.enhanceApp(a)}}}return n}const j=ue(lt),ct=le({name:"VitePressApp",setup(){const{site:n}=Oe();return oe(()=>{ke(()=>{document.documentElement.lang=n.value.lang,document.documentElement.dir=n.value.dir})}),Ae(),Se(),Te(),j.setup&&j.setup(),()=>Ie(j.Layout)}});async function ut(){const n=pt(),t=mt();t.provide(je,n);const a=Pe(n.route);return t.provide(Ne,a),t.component("Content",Re),t.component("ClientOnly",Be),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get(){return a.frontmatter.value}},$params:{get(){return a.page.value.params}}}),j.enhanceApp&&await j.enhanceApp({app:t,router:n,siteData:Me}),{app:t,router:n,data:a}}function mt(){return $e(ct)}function pt(){let n=ne,t;return De(a=>{let s=Fe(a);return n&&(t=s),(n||t===s)&&(s=s.replace(/\.js$/,".lean.js")),ne&&(n=!1),Ue(()=>import(s),[])},j.NotFound)}ne&&ut().then(({app:n,router:t,data:a})=>{t.go().then(()=>{He(t.route,a.site),n.mount("#app")})});export{ut as createApp};
